# CRM 3.0 - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è

## üìã –¢–ï–ö–£–©–ê–Ø –ó–ê–î–ê–ß–ê: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞

**–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- –†–æ–ª–∏: Admin, Seller (–ü—Ä–æ–¥–∞–≤–µ—Ü), Executor (–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å) - –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç—Å—è
- –í–∏–¥–∏–º–æ—Å—Ç—å: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ (–≥–¥–µ –æ–Ω seller –∏–ª–∏ executor)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –¢–æ–ª—å–∫–æ Admin –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —á—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –Ω–∞ –≤—Å–µ—Ö endpoints (–∫—Ä–æ–º–µ /auth/login/)
- –ü—Ä–æ–µ–∫—Ç: 3-5 —á–µ–ª–æ–≤–µ–∫, –ø—É–±–ª–∏—á–Ω–æ—Å—Ç—å –Ω–µ –Ω—É–∂–Ω–∞

---

## üî¥ –§–ê–ó–ê 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### –≠—Ç–∞–ø 1.1: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º—ã —Ä–æ–ª–µ–π ‚úÖ –ê–£–î–ò–¢ –ó–ê–í–ï–†–®–Å–ù

**–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–£–î–ò–¢–ê:**

‚úÖ **–ú–æ–¥–µ–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- `Role` –º–æ–¥–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `backend/apps/users/models.py:7-28`
  - –ü–æ–ª–µ `name` (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ)
  - –ü–æ–ª–µ `description`
  - –ù–∞—Å–ª–µ–¥—É–µ—Ç SoftDeleteModel (–¥–ª—è –º—è–≥–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è)

- `UserRole` –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤ `backend/apps/users/models.py:77-100`
  - FK –Ω–∞ User —Å related_name='user_roles' ‚Üê –í–ê–ñ–ù–û!
  - FK –Ω–∞ Role —Å related_name='users'
  - –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ('user', 'role')
  - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–æ–ª–µ–π

- `Deal` –º–æ–¥–µ–ª—å –≤ `backend/apps/deals/models.py:7-50`
  - FK `seller` (related_name='sold_deals') ‚Üê –º–µ–Ω–µ–¥–∂–µ—Ä/–ø—Ä–æ–¥–∞–≤–µ—Ü
  - FK `executor` (related_name='executed_deals') ‚Üê –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
  - –û–±–∞ –ø–æ–ª—è –º–æ–≥—É—Ç –±—ã—Ç—å NULL

‚úÖ **–í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:**
- –í—ã–ø–æ–ª–Ω–µ–Ω–æ: `docker-compose exec backend python manage.py showmigrations`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ [X] - —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

‚ö†Ô∏è **–í–ê–ñ–ù–û–ï: –†–æ–ª–∏ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ –ë–î!**
- –í –ë–î –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π —Ä–æ–ª–∏ (Role.objects.all() –≤–µ—Ä–Ω—É–ª–∞ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫)
- –£ –∞–¥–º–∏–Ω–∞ (user admin) –Ω–µ—Ç —Ä–æ–ª–µ–π
- **–ù–£–ñ–ù–û –°–û–ó–î–ê–¢–¨** —Ä–æ–ª–∏: Admin, Seller, Executor –≤ —Ä–∞–∑–¥–µ–ª–µ "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö"

‚ö†Ô∏è **–í–ê–ñ–ù–û–ï: –ü–æ–∏—Å–∫ —Ä–æ–ª–µ–π –ø–æ –∏–º–µ–Ω–∏ '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä'**
- –í DealViewSet.get_queryset() –∏—â–µ—Ç —Ä–æ–ª—å —Å name='–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
- –ù—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å: –∫–∞–∫–∏–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–æ–ª–µ–π?
  - –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –ü—Ä–æ–¥–∞–≤–µ—Ü, –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
  - –í–∞—Ä–∏–∞–Ω—Ç 2: Admin, Seller, Executor (–ª–∞—Ç–∏–Ω–∏—Ü–∞)
  - **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∞—Ç–∏–Ω–∏—Ü—É (Admin, Seller, Executor) –¥–ª—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç–∏**

‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–´ –í DEAL VIEWSET (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è):**
- `DealViewSet.get_queryset()` (—Å—Ç—Ä–æ–∫–∞ 13-38) —É–∂–µ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
  - –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –í–°–ï —Å–¥–µ–ª–∫–∏
  - –ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç –í–°–ï —Å–¥–µ–ª–∫–∏
  - –û—Å—Ç–∞–ª—å–Ω—ã–µ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ (seller –∏–ª–∏ executor)
- –ü–†–û–ë–õ–ï–ú–ê: —ç—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é "–≤—Å–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"
  - –ù–∞–¥–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞: –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç 0 —Å–¥–µ–ª–æ–∫

### –≠—Ç–∞–ø 1.2: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö ViewSets –∏ permissions ‚úÖ –ê–£–î–ò–¢ –ó–ê–í–ï–†–®–Å–ù

**–°–û–°–¢–û–Ø–ù–ò–ï –í–°–ï–• VIEWSETS:**

–§–∞–π–ª: `backend/config/settings.py:153-155`
```python
'DEFAULT_PERMISSION_CLASSES': (
    'rest_framework.permissions.AllowAny',  ‚Üê –ù–£–ñ–ù–û –ò–ó–ú–ï–ù–ò–¢–¨ –ù–ê IsAuthenticated
),
```

**VIEWSETS –° `permission_classes = [permissions.AllowAny]`:**
1. ‚úÖ `DealViewSet` (`deals/views.py:11`) - —É–∂–µ –∏–º–µ–µ—Ç get_queryset() —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π!
2. ‚ùå `QuoteViewSet` (`deals/views.py:42`) - NO get_queryset() - –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
3. ‚ùå `ActivityLogViewSet` (`deals/views.py:57`) - NO get_queryset() - –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
4. ‚ùå `ClientViewSet` (`clients/views.py:7`) - NO get_queryset() - –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
5. ‚ùå `TaskViewSet` (`tasks/views.py:7`) - NO get_queryset() - –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
6. ‚ùå `DocumentViewSet` (`documents/views.py:14`) - NO get_queryset() - –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
7. ‚ùå `FinancialRecordViewSet` (`finances/views.py`) - NO get_queryset() - –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
8. ‚ùå `PaymentViewSet` (`finances/views.py`) - NO get_queryset() - –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
9. ‚ùå `PolicyViewSet` (`policies/views.py`) - NO get_queryset() - –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
10. ‚ùå `NoteViewSet` (`notes/views.py:11`) - –∏–º–µ–µ—Ç get_queryset() –Ω–æ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞
11. ‚ùå `NotificationViewSet` (`notifications/views.py:11`) - –∏–º–µ–µ—Ç get_queryset() –Ω–æ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞
12. ‚ùå Endpoints –≤ `users/views.py` - —Ä–∞–∑–Ω—ã–µ (–Ω–µ –≤—Å–µ ViewSets)

**–í–ê–ñ–ù–û: Endpoints –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (users/views.py):**
- `/auth/login/` (—Å—Ç—Ä–æ–∫–∞ 336) - ‚úÖ —É–∂–µ @permission_classes([AllowAny])
- `/auth/refresh/` (—Å—Ç—Ä–æ–∫–∞ 361) - ‚úÖ —É–∂–µ @permission_classes([AllowAny])
- `/auth/me/` (—Å—Ç—Ä–æ–∫–∞ 385) - ‚úÖ —É–∂–µ @permission_classes([AllowAny])
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

### –≠—Ç–∞–ø 1.2b: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–µ–π —Å FK –Ω–∞ Deal ‚úÖ –ê–£–î–ò–¢ –ó–ê–í–ï–†–®–Å–ù

**–ò–µ—Ä–∞—Ä—Ö–∏—è –º–æ–¥–µ–ª–µ–π (–ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ Deal):**
```
Deal (–æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å)
‚îú‚îÄ‚îÄ Task (FK deal)
‚îú‚îÄ‚îÄ Document (FK deal)
‚îú‚îÄ‚îÄ Payment (FK deal)
‚îÇ   ‚îî‚îÄ‚îÄ FinancialRecord (FK payment)
‚îú‚îÄ‚îÄ Policy (FK deal)
‚îú‚îÄ‚îÄ Note (FK deal)
‚îú‚îÄ‚îÄ Quote (FK deal) ‚Üê –¥–ª—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
‚îî‚îÄ‚îÄ ActivityLog (FK deal) ‚Üê –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
```

**–õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è —ç—Ç–∏—Ö –º–æ–¥–µ–ª–µ–π:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å Deal
- –¢.–µ. –µ—Å–ª–∏ –æ–Ω seller –∏–ª–∏ executor –¥–ª—è Deal
- –ò–ª–∏ –µ—Å–ª–∏ –æ–Ω Admin

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ä–æ–ª–µ–π**
1. –†–æ–ª—å "Admin" - –≤–∏–¥–∏—Ç –í–°–ï, –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –í–°–ï
2. –†–æ–ª—å "Seller" - –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏ (–≥–¥–µ –æ–Ω seller)
3. –†–æ–ª—å "Executor" - –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏ (–≥–¥–µ –æ–Ω executor)
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ù–ï–°–ö–û–õ–¨–ö–û —Ä–æ–ª–µ–π (UserRole - ManyToMany)

### –≠—Ç–∞–ø 1.2b: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–ª–µ–π –≤ –ë–î ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û

- [ ] **–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç** `backend/apps/users/init_roles.py` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–æ–ª–µ–π:
  ```python
  from apps.users.models import Role

  roles = [
      {'name': 'Admin', 'description': '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º –∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º'},
      {'name': 'Seller', 'description': '–ü—Ä–æ–¥–∞–≤–µ—Ü - –≤–∏–¥–∏—Ç –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏'},
      {'name': 'Executor', 'description': '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å - –≤–∏–¥–∏—Ç –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏'},
  ]

  for role_data in roles:
      role, created = Role.objects.get_or_create(
          name=role_data['name'],
          defaults={'description': role_data['description']}
      )
      if created:
          print(f"–°–æ–∑–¥–∞–Ω–∞ —Ä–æ–ª—å: {role.name}")
      else:
          print(f"–†–æ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {role.name}")
  ```

- [ ] **–í—ã–ø–æ–ª–Ω–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é:**
  ```bash
  docker-compose exec backend python << 'EOF'
  from apps.users.models import Role

  roles = [
      {'name': 'Admin', 'description': '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø'},
      {'name': 'Seller', 'description': '–ü—Ä–æ–¥–∞–≤–µ—Ü - –≤–∏–¥–∏—Ç —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏'},
      {'name': 'Executor', 'description': '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å - –≤–∏–¥–∏—Ç —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏'},
  ]

  for role_data in roles:
      role, created = Role.objects.get_or_create(**role_data)
      print(f"{'–°–æ–∑–¥–∞–Ω–∞' if created else '–°—É—â–µ—Å—Ç–≤—É–µ—Ç'}: {role.name}")

  # –ü—Ä–∏—Å–≤–æ–∏—Ç—å –∞–¥–º–∏–Ω—É —Ä–æ–ª—å Admin
  from django.contrib.auth.models import User
  admin = User.objects.get(username='admin')
  admin_role = Role.objects.get(name='Admin')
  from apps.users.models import UserRole
  user_role, created = UserRole.objects.get_or_create(user=admin, role=admin_role)
  print(f"Admin –ø–æ–ª—É—á–∏–ª —Ä–æ–ª—å Admin")
  EOF
  ```

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ:**
  ```bash
  docker-compose exec backend python manage.py shell << 'EOF'
  from apps.users.models import Role, UserRole

  print("–†–æ–ª–∏:")
  for role in Role.objects.all():
      print(f"  {role.name}: {role.description}")

  print("\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∏—Ö —Ä–æ–ª–∏:")
  from django.contrib.auth.models import User
  for user in User.objects.all():
      roles = user.user_roles.values_list('role__name', flat=True)
      print(f"  {user.username}: {', '.join(roles) if roles else '(–Ω–µ—Ç —Ä–æ–ª–µ–π)'}")
  EOF
  ```

### –≠—Ç–∞–ø 1.3: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ DealViewSet –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π —Ä–æ–ª–µ–π

- [ ] –í `backend/apps/deals/views.py:27-29` –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫ —Ä–æ–ª–∏ —Å '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' –Ω–∞ 'Admin':
  ```python
  # –°–¢–ê–†–û–ï:
  is_admin = UserRole.objects.filter(
      user=user,
      role__name='–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä'
  ).exists()

  # –ù–û–í–û–ï:
  is_admin = UserRole.objects.filter(
      user=user,
      role__name='Admin'
  ).exists()
  ```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞ —Å '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' –≤ –∫–æ–¥–µ:
  ```bash
  grep -r "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" backend/apps/ --include="*.py"
  ```

### –≠—Ç–∞–ø 1.4: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–º–∏—à–µ–Ω-–∫–ª–∞—Å—Å–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `backend/common/permissions.py` —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏:
  - `IsAuthenticated` (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º)
  - `IsAdmin` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∏–º–µ–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–æ–ª—å Admin
  - `IsOwnerOrAdmin` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø, –µ—Å–ª–∏ –æ–Ω owner –∏–ª–∏ admin
  - `IsSellerOrExecutorOrAdmin` - –¥–æ—Å—Ç—É–ø, –µ—Å–ª–∏ seller, executor –∏–ª–∏ admin —Å–¥–µ–ª–∫–∏
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üî¥ –§–ê–ó–ê 2: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ API

### –≠—Ç–∞–ø 2.1: –û–±–Ω–æ–≤–∏—Ç—å settings.py –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å `DEFAULT_PERMISSION_CLASSES` —Å `AllowAny` –Ω–∞ `IsAuthenticated`
  - –§–∞–π–ª: `backend/config/settings.py` (—Å—Ç—Ä–æ–∫–∞ ~153)
  - –°—Ç–∞—Ä–æ–µ: `'rest_framework.permissions.AllowAny'`
  - –ù–æ–≤–æ–µ: `'rest_framework.permissions.IsAuthenticated'`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è endpoints –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ middleware/router

### –≠—Ç–∞–ø 2.2: –û–±–Ω–æ–≤–∏—Ç—å endpoints –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `/auth/login/` –æ—Å—Ç–∞—ë—Ç—Å—è —Å `AllowAny`
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `/auth/refresh/` –æ—Å—Ç–∞—ë—Ç—Å—è —Å `AllowAny`
- [ ] `/auth/me/` –æ—Å—Ç–∞–≤–∏—Ç—å `AllowAny` (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞)
- **–§–∞–π–ª:** `backend/apps/users/views.py` (—Å—Ç—Ä–æ–∫–∏ 336-404)

### –≠—Ç–∞–ø 2.3: –ü—Ä–∏–º–µ–Ω–∏—Ç—å IsAuthenticated –∫ ViewSets ‚ö†Ô∏è 10 –§–ê–ô–õ–û–í

**–û–±–Ω–æ–≤–∏—Ç—å permission_classes –∏ –¥–æ–±–∞–≤–∏—Ç—å get_queryset() –≤ –∫–∞–∂–¥—ã–π ViewSet:**

- [ ] `backend/apps/deals/views.py` (3 ViewSet):
  - DealViewSet (—Å—Ç—Ä–æ–∫–∞ 11) - —É–∂–µ –∏–º–µ–µ—Ç get_queryset(), –∏–∑–º–µ–Ω–∏—Ç—å permission + –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥–ª—è –∞–Ω–æ–Ω–∏–º–∞
  - QuoteViewSet (—Å—Ç—Ä–æ–∫–∞ 42) - –¥–æ–±–∞–≤–∏—Ç—å get_queryset()
  - ActivityLogViewSet (—Å—Ç—Ä–æ–∫–∞ 57) - –¥–æ–±–∞–≤–∏—Ç—å get_queryset()

- [ ] `backend/apps/clients/views.py` (1 ViewSet):
  - ClientViewSet (—Å—Ç—Ä–æ–∫–∞ 7) - NO get_queryset(), –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

- [ ] `backend/apps/tasks/views.py` (1 ViewSet):
  - TaskViewSet (—Å—Ç—Ä–æ–∫–∞ 7) - NO get_queryset(), –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Deal

- [ ] `backend/apps/documents/views.py` (1 ViewSet):
  - DocumentViewSet (—Å—Ç—Ä–æ–∫–∞ 14) - NO get_queryset(), –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Deal

- [ ] `backend/apps/finances/views.py` (2 ViewSet):
  - FinancialRecordViewSet - NO get_queryset()
  - PaymentViewSet - NO get_queryset()

- [ ] `backend/apps/policies/views.py` (1 ViewSet):
  - PolicyViewSet - NO get_queryset(), –Ω—É–∂–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Deal

- [ ] `backend/apps/notes/views.py` (1 ViewSet):
  - NoteViewSet - –∏–º–µ–µ—Ç get_queryset(), –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å

- [ ] `backend/apps/notifications/views.py` (1 ViewSet):
  - NotificationViewSet - –∏–º–µ–µ—Ç get_queryset(), –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å

- [ ] `backend/apps/chat/views.py` (1 ViewSet):
  - ChatMessageViewSet - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**–ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –≤—Å–µ—Ö ViewSets:**
```python
from rest_framework import permissions, viewsets
from django.db.models import Q

class SomeViewSet(viewsets.ModelViewSet):
    serializer_class = SomeSerializer
    permission_classes = [permissions.IsAuthenticated]  # ‚Üê –ò–ó–ú–ï–ù–ò–¢–¨ –≠–¢–û

    def get_queryset(self):  # ‚Üê –î–û–ë–ê–í–ò–¢–¨ –≠–¢–û
        user = self.request.user

        # Admin –≤–∏–¥–∏—Ç –í–°–ï
        if user.user_roles.filter(role__name='Admin').exists():
            return Some.objects.all()

        # –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
        return Some.objects.filter(
            Q(deal__seller=user) | Q(deal__executor=user)
        ).distinct()
```

---

## üî¥ –§–ê–ó–ê 3: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–†–ï–ê–õ–ò–ó–£–ï–¢–°–Ø –í –§–ê–ó–ï 2)

**–í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ —á–∞—Å—Ç—å –§–ê–ó–´ 2.3! –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å permission_classes**

–¢—Ä–µ–±—É–µ–º—ã–µ get_queryset() –¥–ª—è –∫–∞–∂–¥–æ–≥–æ ViewSet —É–∂–µ –æ–ø–∏—Å–∞–Ω—ã –≤—ã—à–µ –≤ –§–ê–ó–ï 2.3

**–ö—Ä–∞—Ç–∫–∞—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏:**
- Admin ‚Üí –≤–∏–¥–∏—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ
- Seller ‚Üí –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–¥–µ–ª–∫–∏, –≥–¥–µ –æ–Ω seller
- Executor ‚Üí –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–¥–µ–ª–∫–∏, –≥–¥–µ –æ–Ω executor
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –≤–∏–¥—è—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (Task, Payment, Document, etc) —Ç–æ–ª—å–∫–æ –∏–∑ —Å–≤–æ–∏—Ö —Å–¥–µ–ª–æ–∫

**–î–ª—è –º–æ–¥–µ–ª–µ–π –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –∫ Deal (Task, Payment, Document, Policy, Note, Quote, ActivityLog):**
```python
def get_queryset(self):
    user = self.request.user
    if user.user_roles.filter(role__name='Admin').exists():
        return Model.objects.all()

    # –í–∏–¥–∏–º —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Å–≤–æ–∏—Ö —Å–¥–µ–ª–æ–∫
    return Model.objects.filter(
        Q(deal__seller=user) | Q(deal__executor=user)
    ).distinct()
```

**–î–ª—è Client (–ø—Ä–∏–≤—è–∑–∞–Ω –∫ Deal —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç–∞):**
```python
def get_queryset(self):
    user = self.request.user
    if user.user_roles.filter(role__name='Admin').exists():
        return Client.objects.all()

    # –í–∏–¥–∏–º –∫–ª–∏–µ–Ω—Ç–æ–≤ —Ç–æ–ª—å–∫–æ –∏–∑ —Å–≤–æ–∏—Ö —Å–¥–µ–ª–æ–∫
    return Client.objects.filter(
        deals__seller=user | deals__executor=user
    ).distinct()
```

**–î–ª—è FinancialRecord (–ø—Ä–∏–≤—è–∑–∞–Ω –∫ Payment, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤—è–∑–∞–Ω –∫ Deal):**
```python
def get_queryset(self):
    user = self.request.user
    if user.user_roles.filter(role__name='Admin').exists():
        return FinancialRecord.objects.all()

    # –í–∏–¥–∏–º —Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–∏ –≤ –ø–ª–∞—Ç–µ–∂–∞—Ö —Å–≤–æ–∏—Ö —Å–¥–µ–ª–æ–∫
    return FinancialRecord.objects.filter(
        Q(payment__deal__seller=user) | Q(payment__deal__executor=user)
    ).distinct()
```

---

## üü† –§–ê–ó–ê 4: –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ Admin)

### –≠—Ç–∞–ø 4.1: –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã update/partial_update
- [ ] –í –∫–∞–∂–¥–æ–º ViewSet –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
  ```python
  def update(self, request, *args, **kwargs):
      # –¢–æ–ª—å–∫–æ Admin –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
      if not request.user.user_roles.filter(role__name='Admin').exists():
          return Response(
              {'detail': '–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ'},
              status=status.HTTP_403_FORBIDDEN
          )
      return super().update(request, *args, **kwargs)
  ```
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º ViewSets (Deal, Client, Task, Payment, Policy, Document, Note)

### –≠—Ç–∞–ø 4.2: –ö–æ–Ω—Ç—Ä–æ–ª—å —É–¥–∞–ª–µ–Ω–∏—è (destroy)
- [ ] –ü–æ–∫–∞ –Ω–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (–∫–∞–∫ —Å–∫–∞–∑–∞–Ω–æ –≤ —Å–ø–µ—Ü–µ), –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ Admin –ø–æ–∑–∂–µ

---

## üü° –§–ê–ó–ê 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –≠—Ç–∞–ø 5.1: –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `backend/tests/test_permissions.py` —Å —Ç–µ—Å—Ç–∞–º–∏:
  - –¢–µ—Å—Ç 1: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç 401 –Ω–∞ protected endpoint
  - –¢–µ—Å—Ç 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏
  - –¢–µ—Å—Ç 3: Admin –≤–∏–¥–∏—Ç –≤—Å–µ —Å–¥–µ–ª–∫–∏
  - –¢–µ—Å—Ç 4: –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å (403)
  - –¢–µ—Å—Ç 5: Admin –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å: `docker-compose exec backend python -m pytest tests/test_permissions.py -v`

### –≠—Ç–∞–ø 5.2: –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Django admin:
  - User 1: Seller (–ø—Ä–æ–¥–∞–≤–µ—Ü)
  - User 2: Executor (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)
  - User 3: Admin
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–¥–µ–ª–∫–∏ (User1 = seller, User2 = executor)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å curl/Postman:
  ```bash
  # –õ–æ–≥–∏–Ω User1
  curl -X POST http://127.0.0.1:8000/api/v1/auth/login/ \
    -H "Content-Type: application/json" \
    -d '{"username":"user1","password":"pass1"}'

  # –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 1)
  curl -H "Authorization: Bearer <token>" \
    http://127.0.0.1:8000/api/v1/deals/

  # –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞ 403)
  curl -X PATCH http://127.0.0.1:8000/api/v1/deals/{id}/ \
    -H "Authorization: Bearer <token>" \
    -H "Content-Type: application/json" \
    -d '{"title":"New title"}'
  ```

### –≠—Ç–∞–ø 5.3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `docker-compose up -d`
- [ ] –í–æ–π—Ç–∏ –≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–∞–∂–¥—ã–π –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–ø—ã—Ç–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á—É–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ dev tools –≤—ã–¥–∞—ë—Ç –æ—à–∏–±–∫—É

---

## üü¢ –§–ê–ó–ê 6: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –≠—Ç–∞–ø 6.1: –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] API –∫–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ª–æ–≤–∏—Ç—å 401/403 –æ—à–∏–±–∫–∏ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ –ª–æ–≥–∏–Ω
- [ ] –§–∞–π–ª: `frontend/src/api.ts`
  ```typescript
  if (response.status === 401 || response.status === 403) {
      // –û—á–∏—Å—Ç–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ª–æ–≥–∏–Ω
      clearTokens();
      window.location.href = '/';
  }
  ```

### –≠—Ç–∞–ø 6.2: –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –¥–æ—Å—Ç—É–ø–∞
- [ ] –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —á—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ, –ø–æ–∫–∞–∑–∞—Ç—å: "–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ"

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–∫—Ä–æ–º–µ /auth/login, /auth/refresh, /auth/me)
- [ ] –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- [ ] –¢–æ–ª—å–∫–æ Admin –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞
- [ ] –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∫–æ–¥

---

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç üî¥ –í–´–°–û–ö–ê–Ø:
  ‚è≥ - –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º
    ‚è≥ - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å django-filter
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤ API (status, –¥–∞—Ç–∞, —Å—É–º–º–∞, –∫–ª–∏–µ–Ω—Ç –∏ —Ç.–¥.)
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É (search parameter)
    ‚è≥ - –û–±–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –ø–æ–ª—è–º–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç üî¥ –í–´–°–û–ö–ê–Ø:
  ‚è≥ - –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
    ‚è≥ - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å pagination –≤ settings.py (PageNumberPagination)
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å page/limit –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ API endpoints
    ‚è≥ - –û–±–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç üü° –°–†–ï–î–ù–Ø–Ø:
  ‚è≥ - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    ‚è≥ - –°–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è stats (deals_stats, clients_stats)
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å—á—ë—Ç —Å—É–º–º, —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É
    ‚è≥ - –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ dashboard —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

  ‚è≥ - –£–ª—É—á—à–∏—Ç—å UI –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å —Ü–≤–µ—Ç–Ω—ã–µ badges –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
    ‚è≥ - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å inline edit –∏ –±—ã—Å—Ç—Ä—ã–µ actions
    ‚è≥ - –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å sidebar —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (–∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö CRM)

  ‚è≥ - –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º
    ‚è≥ - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å django-filter
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤ API (status, –¥–∞—Ç–∞, —Å—É–º–º–∞, –∫–ª–∏–µ–Ω—Ç –∏ —Ç.–¥.)
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É (search parameter)
    ‚è≥ - –û–±–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –ø–æ–ª—è–º–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç üî¥ –í–´–°–û–ö–ê–Ø:
  ‚è≥ - –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
    ‚è≥ - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å pagination –≤ settings.py (PageNumberPagination)
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å page/limit –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ API endpoints
    ‚è≥ - –û–±–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç üü° –°–†–ï–î–ù–Ø–Ø:
  ‚è≥ - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    ‚è≥ - –°–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è stats (deals_stats, clients_stats)
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å—á—ë—Ç —Å—É–º–º, —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É
    ‚è≥ - –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ dashboard —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

  ‚è≥ - –£–ª—É—á—à–∏—Ç—å UI –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å —Ü–≤–µ—Ç–Ω—ã–µ badges –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
    ‚è≥ - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å inline edit –∏ –±—ã—Å—Ç—Ä—ã–µ actions
    ‚è≥ - –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
    ‚è≥ - –î–æ–±–∞–≤–∏—Ç—å sidebar —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (–∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö CRM)

